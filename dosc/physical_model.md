**`Genres` - Жанры**

| Название столбца | Описание                     | Тип данных   | Ограничения                                                                        |
| :--------------- | :--------------------------- | :----------- | :--------------------------------------------------------------------------------- |
| `GenreName`      | Название жанра               | VARCHAR(255) | PRIMARY KEY, UNIQUE                                                                |
| `ParentGenre`    | Название родительского жанра | VARCHAR(255) | FOREIGN KEY ссылается на `Genres(GenreName)`, NULL допустимо (для корневых жанров) |
| `Description`    | Описание жанра               | TEXT         | NULL допустимо                                                                     |

**Таблица `TracksGenres` - для устранения many-to-many между треками и жанрами**

| Название столбца   | Описание                 | Тип данных   | Ограничения                                            |
| :----------------- | :----------------------- | :----------- | :----------------------------------------------------- |
| `GenreName`        | Название жанра           | VARCHAR(255) | FOREIGN KEY ссылается на `Genres(GenreName)`, NOT NULL |
| `TrackId`          | ID трека                 | INTEGER      | FOREIGN KEY ссылается на `Tracks(TrackId)`, NOT NULL   |
| **Первичный ключ** | Составной первичный ключ |              | PRIMARY KEY (`GenreName`, `TrackId`)                   |

**Таблица `Tracks` - Треки**

| Название столбца  | Описание                 | Тип данных    | Ограничения                                              |
| :---------------- | :----------------------- | :------------ | :------------------------------------------------------- |
| `TrackId`         | ID трека                 | INTEGER       | PRIMARY KEY, AUTO_INCREMENT                              |
| `ReleaseId`       | ID релиза                | INTEGER       | FOREIGN KEY ссылается на `Releases(ReleaseId)`, NOT NULL |
| `NumberInRelease` | Номер трека в релизе     | INTEGER       | NOT NULL                                                 |
| `Title`           | Название трека           | VARCHAR(255)  | NOT NULL                                                 |
| `Duration`        | Длительность трека       | TIME          | NULL допустимо                                           |
| `SpotifyLink`     | Ссылка на трек в Spotify | VARCHAR(2048) | NULL допустимо                                           |

**Таблица `Releases` - Релизы**

| Название столбца | Описание                                 | Тип данных    | Ограничения                 |
| :--------------- | :--------------------------------------- | :------------ | :-------------------------- |
| `ReleaseId`      | ID релиза                                | INTEGER       | PRIMARY KEY, AUTO_INCREMENT |
| `Title`          | Название релиза (альбома, сингла и т.д.) | VARCHAR(255)  | NOT NULL                    |
| `ReleaseDate`    | Дата релиза                              | DATE          | NULL допустимо              |
| `Type`           | Тип релиза (Альбом, Сингл, EP)           | VARCHAR(50)   | NOT NULL                    |
| `SpotifyLink`    | Ссылка на релиз в Spotify                | VARCHAR(2048) | NULL допустимо              |
| `BandcampLink`   | Ссылка на релиз в Bandcamp               | VARCHAR(2048) | NULL допустимо              |

**Таблица `Ratings` (Оценки)**

| Название столбца | Описание          | Тип данных | Ограничения                                              |
| :--------------- | :---------------- | :--------- | :------------------------------------------------------- |
| `RatingId`       | ID оценки         | INTEGER    | PRIMARY KEY, AUTO_INCREMENT, UNIQUE                      |
| `ReleaseId`      | ID релиза         | INTEGER    | FOREIGN KEY ссылается на `Releases(ReleaseId)`, NOT NULL |
| `UserId`         | ID пользователя   | INTEGER    | FOREIGN KEY ссылается на `Users(UserId)`, NOT NULL       |
| `RatingOutOf10`  | Оценка от 1 до 10 | INTEGER    | NOT NULL, CHECK (`RatingOutOf10` BETWEEN 1 AND 10)       |
| `Review`         | Текстовый отзыв   | TEXT       | NULL допустимо                                           |

## Таблица `Users` – Актуальная информация о пользователях

| Название столбца    | Описание                                                  | Тип данных     | Ограничения                                      |
| ------------------- | --------------------------------------------------------- | -------------- | ------------------------------------------------ |
| `UserId`            | ID пользователя (первичный ключ, автоинкремент)           | INTEGER        | PRIMARY KEY, AUTO_INCREMENT, UNIQUE              |
| `RegistrationDate`  | Дата регистрации пользователя                           | DATE           | NOT NULL                                         |
| `Nickname`          | Актуальный никнейм пользователя                         | VARCHAR(255)   | NOT NULL                                         |
| `BirthDate`         | Дата рождения пользователя                              | DATE           | NULL допустимо                                   |
| `Gender`            | Пол пользователя                                        | VARCHAR(50)    | NULL допустимо                                   |
| `Status`            | Статус подписки (например, "free", "premium", "banned")   | VARCHAR(50)    | NULL допустимо                                   |

## Таблица `UsersArchive` – Архивная информация о пользователях (история изменений)

| Название столбца    | Описание                                                                     | Тип данных     | Ограничения                                                        |
| ------------------- | ---------------------------------------------------------------------------- | -------------- | ------------------------------------------------------------------ |
| `ArchiveId`         | ID записи архива (первичный ключ, автоинкремент)                             | INTEGER        | PRIMARY KEY, AUTO_INCREMENT                                        |
| `UserId`            | ID пользователя                                                              | INTEGER        | FOREIGN KEY ссылается на `Users(UserId)`, NOT NULL                    |
| `ValidFrom`         | Дата начала действия архивной записи                                         | DATE           | NOT NULL                                                           |
| `ValidTo`           | Дата окончания действия архивной записи                                      | DATE           | NOT NULL                                                           |
| `Nickname`          | Никнейм пользователя (архивная версия)                                       | VARCHAR(255)   | NOT NULL                                                           |
| `BirthDate`         | Дата рождения пользователя (архивная версия)                                 | DATE           | NULL допустимо                                                     |
| `Gender`            | Пол пользователя (архивная версия)                                           | VARCHAR(50)    | NULL допустимо                                                     |
| `Status`            | Статус подписки (архивная версия, например, "free", "premium", "banned")       | VARCHAR(50)    | NULL допустимо                                                     |
          |

**Таблица `Artists` (Артисты)**

| Название столбца | Описание                                                                  | Тип данных   | Ограничения                         |
| :--------------- | :------------------------------------------------------------------------ | :----------- | :---------------------------------- |
| `ArtistId`       | ID исполнителя (первичный ключ, автоинкремент)                            | INTEGER      | PRIMARY KEY, AUTO_INCREMENT, UNIQUE |
| `Name`           | Имя исполнителя                                                           | VARCHAR(255) | NOT NULL                            |
| `Members`        | Список участников группы (или просто настоящее имя, если это соло проект) | TEXT         | NULL допустимо                      |
| `FoundedYear`    | Год основания                                                             | INTEGER      | NULL допустимо                      |
| `DisbandedYear`  | Год распада (если группа распалась)                                       | INTEGER      | NULL допустимо                      |

**Таблица `TracksArtists` - для устранения many-to-many между треками и исполнителями**

| Название столбца   | Описание                 | Тип данных | Ограничения                                            |
| :----------------- | :----------------------- | :--------- | :----------------------------------------------------- |
| `ArtistId`         | ID исполнителя           | INTEGER    | FOREIGN KEY ссылается на `Artists(ArtistId)`, NOT NULL |
| `TrackId`          | ID трека                 | INTEGER    | FOREIGN KEY ссылается на `Tracks(TrackId)`, NOT NULL   |
| **Первичный ключ** | Составной первичный ключ |            | PRIMARY KEY (`ArtistId`, `TrackId`)                    |
